<!-- Barra de Pesquisa (Backend - Django) -->
<div class="search-container">
    <form method="get" action="" class="search-form">
        <!-- Campo de pesquisa -->
        <div class="search-input-wrapper">
            <input 
                type="text" 
                name="search" 
                id="searchInput"
                value="{{ search_query|default:'' }}" 
                placeholder="Pesquisar em todos os registros..."
                class="search-input"
            />
            <i class="fas fa-search search-icon"></i>
        </div>
        
        <!-- Botão de pesquisa -->
        <button type="submit" class="btn btn-primary search-btn">
            <i class="fas fa-search"></i> 
            <span class="btn-text">Pesquisar</span>
        </button>
        
        <!-- Botão para limpar pesquisa -->
        {% if search_query %}
        <a href="?" class="btn btn-secondary clear-btn">
            <i class="fas fa-times"></i> 
            <span class="btn-text">Limpar</span>
        </a>
        {% endif %}
        
        <!-- Preservar outros parâmetros GET (filtros) -->
        {% for key, value in request.GET.items %}
            {% if key != 'search' and key != 'page' %}
                <input type="hidden" name="{{ key }}" value="{{ value }}">
            {% endif %}
        {% endfor %}
    </form>
    
    {% if search_query %}
    <div class="search-result-info">
        <i class="fas fa-info-circle"></i> 
        Pesquisando por: <strong>{{ search_query }}</strong>
        {% if page_obj.paginator.count %}
            - {{ page_obj.paginator.count }} resultado(s) encontrado(s)
        {% endif %}
    </div>
    {% endif %}
</div>

<style>
    .search-container {
        margin-bottom: 20px;
        width: 100%;
    }

    .search-form {
        display: flex;
        gap: 10px;
        align-items: center;
        flex-wrap: wrap;
    }

    .search-input-wrapper {
        flex: 1;
        position: relative;
        min-width: 200px;
    }

    .search-input {
        width: 100%;
        padding: 10px 40px 10px 15px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 14px;
        transition: all 0.3s ease;
    }

    .search-input:focus {
        outline: none;
        border-color: #4a8f29;
        box-shadow: 0 0 5px rgba(74, 143, 41, 0.3);
    }

    .search-icon {
        position: absolute;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
        color: #999;
        pointer-events: none;
    }

    .search-btn,
    .clear-btn {
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        white-space: nowrap;
        transition: all 0.2s;
        display: inline-flex;
        align-items: center;
        gap: 5px;
    }

    .search-btn {
        background-color: #4a8f29;
        color: white;
    }

    .search-btn:hover {
        opacity: 0.9;
        transform: translateY(-1px);
    }

    .clear-btn {
        background-color: #6c757d;
        color: white;
        text-decoration: none;
    }

    .clear-btn:hover {
        opacity: 0.9;
        transform: translateY(-1px);
    }

    .search-result-info {
        margin-top: 10px;
        color: #666;
        font-size: 14px;
    }

    /* Responsividade para Tablet */
    @media (max-width: 768px) {
        .search-form {
            gap: 8px;
        }

        .search-input-wrapper {
            min-width: 150px;
        }

        .search-input {
            font-size: 13px;
            padding: 9px 35px 9px 12px;
        }

        .search-btn,
        .clear-btn {
            padding: 9px 16px;
            font-size: 13px;
        }
    }

    /* Responsividade para Mobile */
    @media (max-width: 576px) {
        .search-form {
            flex-direction: column;
            gap: 10px;
        }

        .search-input-wrapper {
            width: 100%;
            min-width: unset;
        }

        .search-btn,
        .clear-btn {
            width: 100%;
            justify-content: center;
            padding: 10px;
        }

        .btn-text {
            display: inline;
        }

        .search-result-info {
            font-size: 12px;
        }
    }

    /* Mobile muito pequeno - apenas ícones */
    @media (max-width: 400px) {
        .search-btn .btn-text,
        .clear-btn .btn-text {
            display: none;
        }

        .search-btn,
        .clear-btn {
            width: auto;
            min-width: 45px;
        }

        .search-form {
            flex-direction: row;
        }

        .search-input-wrapper {
            flex: 1;
        }
    }
</style>
